(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{69:function(e,t,n){},70:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var a=n(6),c=n.n(a),r=n(52),i=n.n(r),o=(n(69),n(11)),s=n(32),d=n(16),l=(n(70),n(0)),u=n.n(l),b=n(4),j=n(17),m=n(53),O=n(29),v=n(22),h=n(54),p=n(55);function f(e,t){var n,a,c;return e===x.posts?function(e){var t,n,a,c,r;if(e.markdown)return{id:null!==(a=e.id)&&void 0!==a?a:"",markdown:null!==(c=e.markdown)&&void 0!==c?c:"",date:new Date(null!==(r=e.date)&&void 0!==r?r:-1)};var i=e.img?"![".concat(null!==(t=e.imgAlt)&&void 0!==t?t:"alt","](").concat(e.img,")"):"",o=e.title?"##### ".concat(e.title):"",s=e.description,d=e.link?"[".concat(e.linkText,"](").concat(e.link,")"):"",l=function(e){if("number"===typeof e)return e;if("object"===typeof e&&e.month&&e.day&&e.year){var t=e,n=t.month,a=t.day,c=t.year;return Date.parse("".concat(n," ").concat(a,", ").concat(c))}return-1}(e.date),u="\n".concat(i,"\n").concat(o,"\n").concat(s,"\n\n").concat(d,"\n");return{id:null!==(n=e.id)&&void 0!==n?n:"",markdown:u,date:new Date(l)}}(t):{id:null!==(n=t.id)&&void 0!==n?n:"",markdown:null!==(a=t.markdown)&&void 0!==a?a:"",date:new Date(null!==(c=t.date)&&void 0!==c?c:-1)}}var x,g=Object(m.a)({apiKey:"AIzaSyAkhIhYHBzSJDCzGdkT5sLf5y5Gfvzr-8s",authDomain:"roybeast-blog.firebaseapp.com",databaseURL:"https://roybeast-blog-default-rtdb.firebaseio.com",projectId:"roybeast-blog",storageBucket:"roybeast-blog.appspot.com",messagingSenderId:"1083253225131",appId:"1:1083253225131:web:bba367f79c3aa1aaf169ee"}),w=Object(O.c)();!function(e){e.posts="posts",e.about="about",e.books="books"}(x||(x={}));var k=function(e){var t=Object(v.a)();return Object(v.d)(t,e)},y=Object(a.createContext)({usePosts:function(e){var t=Object(a.useState)([]),n=Object(o.a)(t,2),c=n[0],r=n[1];return Object(a.useEffect)((function(){Object(v.b)(k(e),(function(t){var n=t.val();if(n){var a=Object.keys(n).map((function(e){return Object(j.a)(Object(j.a)({},n[e]),{},{id:e})})).map((function(t){return f(e,t)}));r(a)}}))}),[e]),[c]},usePost:function(e,t,n){var c=Object(a.useState)(),r=Object(o.a)(c,2),i=r[0],s=r[1];return Object(a.useEffect)((function(){if(e&&t){var a=Object(v.a)(),c=Object(v.d)(a,"".concat(e,"/").concat(t));Object(v.b)(c,(function(t){var n=t.val();if(n){var a=f(e,n);a&&s(a)}}),{onlyOnce:n})}}),[e,t,n]),[i]},sendPost:function(e,t){var n,a={id:(n=t).id,markdown:n.markdown,date:n.date.getTime()};delete a.id,Object(v.c)(k(e),a)},deletePost:function(e,t){var n=Object(v.a)(),a=Object(v.d)(n,"".concat(e,"/").concat(t));Object(v.e)(a)},useUser:function(e,t){var n=Object(a.useState)(),c=Object(o.a)(n,2),r=c[0],i=c[1];return Object(a.useEffect)((function(){if(null===e||void 0===e?void 0:e.uid){var n=Object(v.a)(),a=Object(v.d)(n,"users/".concat(e.uid));Object(v.b)(a,(function(n){var c=n.val();if(c){var r=function(e){var t,n,a;return{displayName:null!==(t=e.displayName)&&void 0!==t?t:"",email:null!==(n=e.email)&&void 0!==n?n:"",isAdmin:null!==(a=e.isAdmin)&&void 0!==a&&a}}(Object.keys(c).map((function(e){return Object(j.a)(Object(j.a)({},c[e]),{},{id:e})}))[0]);i(r)}else if(t){var o={displayName:e.displayName,email:e.email};Object(v.c)(a,o)}}))}}),[e,t]),[r]},app:g,auth:w,useAuthState:h.a,useCollectionData:p.a,providers:{google:O.a},signInWithPopup:O.g}),N=(n(24),n(10)),C=function(){return Object(N.jsxs)("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark",children:[Object(N.jsx)(s.b,{className:"navbar-brand",to:"/",children:"Roybeast"}),Object(N.jsx)("ul",{className:"navbar-nav mr-auto",children:Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsx)("a",{className:"nav-link",href:"https://www.linkedin.com/in/christopher-roybal/",rel:"noreferrer",target:"_blank",children:Object(N.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-linkedin",viewBox:"0 0 16 16",children:Object(N.jsx)("path",{d:"M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"})})})})}),Object(N.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(N.jsx)("span",{className:"navbar-toggler-icon"})}),Object(N.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavDropdown",children:Object(N.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object.keys(x).map((function(e){return Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsx)(s.b,{className:"nav-link",to:"/".concat(e),children:e})},e)})),Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsx)(S,{})})]})})]})},S=function(){var e=Object(a.useContext)(y),t=e.auth,n=e.useAuthState,c=e.providers,r=e.signInWithPopup,i=e.useUser,d=n(t),l=Object(o.a)(d,1)[0],j=i(l),m=Object(o.a)(j,1)[0],O=function(){var e=Object(b.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new c.google,e.next=3,r(t,n);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return l?Object(N.jsxs)("div",{className:"dropdown",children:[Object(N.jsx)("button",{className:"btn btn-dark dropdown-toggle",type:"button",id:"dropDownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:l.displayName}),Object(N.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"dropDownMenuButton",children:[(null===m||void 0===m?void 0:m.isAdmin)&&Object(N.jsx)(s.b,{className:"dropdown-item btn btn-dark",to:"/new",children:"New Post"}),Object(N.jsx)("button",{className:"dropdown-item btn btn-dark",onClick:function(){t.signOut()},children:"Sign out"})]})]}):Object(N.jsx)("button",{className:"btn btn-dark",onClick:O,children:"Sign in"})},D=function(e){var t=e.children;return Object(N.jsx)("div",{className:"jumbotron",style:{backgroundColor:"white",padding:"8px"},children:t})},P=function(e){var t=e.children;return Object(N.jsx)("div",{className:"container",children:t})},A=function(e){var t=e.children,n=e.variant,c=Object(a.useMemo)((function(){return"medium"===n?"36rem":"large"===n?"54rem":"18rem"}),[n]);return Object(N.jsx)("div",{className:"card",style:{margin:"4px",paddingLeft:"16px",paddingRight:"16px",paddingTop:"16px",width:"min(95vw, ".concat(c,")"),minWidth:"18rem",boxShadow:"16px 16px 8px grey",marginBottom:"16px",border:"1px solid #383838",borderRadius:"16px"},children:t})};A.Body=function(e){var t=e.children;return Object(N.jsx)("div",{className:"card-body",children:t})},A.TopImage=function(e){var t=e.src,n=e.alt;return Object(N.jsx)("img",{className:"card-img-top",src:t,alt:n})},A.Title=function(e){var t=e.children;return Object(N.jsx)("h5",{className:"card-title",children:t})},A.Text=function(e){var t=e.children;return Object(N.jsx)("p",{className:"card-text",children:t})},A.Link=function(e){var t=e.href,n=e.text;return Object(N.jsx)("a",{href:t,className:"card-link",target:"_blank",rel:"noreferrer",children:n})};var T=function(e){var t=e.children;return Object(N.jsx)(P,{children:t})};T.Column=function(e){var t=e.children;return Object(N.jsx)("div",{className:"col",children:t})},T.Row=function(e){var t=e.children;return Object(N.jsx)("div",{className:"row",children:t})};var I=n(62),B=function(e){var t=e.markdown,n=e.date,c=e.onDelete,r=e.canEdit,i=e.editComponent,o=e.canDelete,s=Object(a.useMemo)((function(){return"\n".concat(t,"\n\n").concat(function(e){return e.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric",hour:"2-digit",hour12:!0,minute:"2-digit",second:"2-digit"})}(n),"\n        ")}),[t,n]);return Object(N.jsx)(A,{variant:"medium",children:Object(N.jsxs)("div",{style:{position:"relative"},children:[Object(N.jsx)(I.a,{components:{img:z},children:s}),r&&Object(N.jsx)("div",{style:{position:"absolute",right:"32px",top:"0px"},children:i}),o&&Object(N.jsx)("div",{style:{position:"absolute",right:"0px",top:"0px"},children:Object(N.jsx)("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:c,children:"X"})})]})})},z=function(e){var t=Object.assign({},e);return Object(N.jsx)("img",Object(j.a)(Object(j.a)({alt:"altPlaceholder"},t),{},{style:{width:"100%"}}))},E=function(){var e=Object(a.useState)({id:"",date:new Date,markdown:""}),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(x.posts),i=Object(o.a)(r,2),s=i[0],l=i[1],u=Object(a.useContext)(y),b=u.sendPost,m=u.deletePost,O=u.usePost,v=Object(a.useState)(!1),h=Object(o.a)(v,2),p=h[0],f=h[1],g=Object(d.f)(),w=g.route,k=g.postId,C=O(w,k,!0),S=Object(o.a)(C,1)[0];Object(a.useEffect)((function(){S&&(c(S),l(w))}),[S,w]);return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(D,{children:Object(N.jsxs)("div",{className:"d-flex flex-wrap",style:{justifyContent:"center"},children:[Object(N.jsxs)(A,{variant:"large",children:[p&&Object(N.jsx)("div",{children:"Submitted!"}),!p&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(A.Title,{children:"New Blog Post"}),Object(N.jsx)(A.Body,{children:Object(N.jsx)(F,{post:n,updatePost:function(e){c((function(t){return Object(j.a)(Object(j.a)({},t),e)}))},onSubmit:function(){k&&w?(m(w,k),b(s,n)):b(s,Object(j.a)(Object(j.a)({},n),{},{date:new Date})),f(!0)},route:s,onRouteChange:function(e){l(e)}})})]})]}),Object(N.jsx)("div",{style:{alignSelf:"center"},children:Object(N.jsx)(B,{date:n.date,markdown:n.markdown})})]})})})},F=function(e){var t=e.post,n=e.updatePost,a=e.onSubmit,c=e.route,r=e.onRouteChange;return Object(N.jsxs)("form",{children:[Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"route",children:"Route"}),Object(N.jsx)("select",{className:"custom-select",id:"route",value:c,onChange:function(e){return r(e.target.value)},children:Object.keys(x).map((function(e){return Object(N.jsx)("option",{value:e,children:e},e)}))})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"description",children:"Description"}),Object(N.jsx)("textarea",{className:"form-control",id:"description",placeholder:"Description",rows:10,value:t.markdown,onChange:function(e){return n({markdown:e.target.value})}})]}),Object(N.jsx)("button",{type:"button",className:"btn btn-dark",onClick:a,children:"Submit"})]})},R=n(12),L=function(e,t){return t.date.getTime()-e.date.getTime()},M=function(e){var t=e.route,n=Object(a.useContext)(y),c=n.usePosts,r=n.useUser,i=n.useAuthState,s=n.deletePost,d=n.auth,l=c(t),u=Object(o.a)(l,1)[0],b=i(d),j=r(Object(o.a)(b,1)[0]),m=Object(o.a)(j,1)[0],O=Object(a.useMemo)((function(){return Object(R.a)(u).sort(L)}),[u]);return Object(N.jsx)(D,{children:Object(N.jsx)("div",{className:"d-flex justify-content-center",children:Object(N.jsx)("div",{children:O.map((function(e){return Object(N.jsx)(B,{markdown:e.markdown,date:e.date,canDelete:null===m||void 0===m?void 0:m.isAdmin,canEdit:null===m||void 0===m?void 0:m.isAdmin,editComponent:Object(N.jsx)(U,{route:t,post:e}),onDelete:function(){return n=e.id,void s(t,n);var n}},e.id)}))})})})},U=function(e){var t=e.route,n=e.post;return Object(N.jsx)(s.b,{to:"/edit/".concat(t,"/").concat(n.id),children:Object(N.jsx)("div",{className:"btn btn-outline-warning btn-sm",children:"E"})})};var V=function(){var e=Object(a.useContext)(y),t=e.useAuthState,n=e.auth,c=e.useUser,r=t(n),i=c(Object(o.a)(r,1)[0],!0),l=Object(o.a)(i,1)[0];return Object(N.jsxs)(s.a,{children:[Object(N.jsx)(C,{}),Object(N.jsxs)(d.c,{children:[(null===l||void 0===l?void 0:l.isAdmin)&&Object(N.jsx)(d.a,{path:"/edit/:route/:postId",children:Object(N.jsx)(E,{})}),(null===l||void 0===l?void 0:l.isAdmin)&&Object(N.jsx)(d.a,{path:"/new",children:Object(N.jsx)(E,{})}),Object.keys(x).map((function(e){return Object(N.jsx)(d.a,{path:"/".concat(e),children:Object(N.jsx)(M,{route:e})},e)})),Object(N.jsx)(d.a,{path:"/",children:Object(N.jsx)(M,{route:x.posts})})]})]})},H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,83)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(N.jsx)(c.a.StrictMode,{children:Object(N.jsx)(V,{})}),document.getElementById("root")),H()}},[[79,1,2]]]);